{"ast":null,"code":"var _jsxFileName = \"/Users/Ferdinand/FarmGuard/file_upload/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { Image, Upload } from 'antd';\nimport { Empty } from 'antd';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getBase64 = file => new Promise((resolve, reject) => {\n  const reader = new FileReader();\n  reader.readAsDataURL(file);\n  reader.onload = () => resolve(reader.result);\n  reader.onerror = error => reject(error);\n});\nconst App = () => {\n  _s();\n  const [previewOpen, setPreviewOpen] = useState(false);\n  const [previewImage, setPreviewImage] = useState('');\n  const [fileList, setFileList] = useState([]);\n  const [response, setResponse] = useState(\"\");\n  const handlePreview = async file => {\n    if (!file.url && !file.preview) {\n      file.preview = await getBase64(file.originFileObj);\n    }\n    setPreviewImage(file.url || file.preview);\n    setPreviewOpen(true);\n  };\n  const handleChange = ({\n    file,\n    fileList: newFileList\n  }) => {\n    var _file$response;\n    setFileList(newFileList);\n    setResponse(file === null || file === void 0 ? void 0 : (_file$response = file.response) === null || _file$response === void 0 ? void 0 : _file$response.response);\n  };\n  const uploadButton = /*#__PURE__*/_jsxDEV(\"button\", {\n    style: {\n      border: 0,\n      background: 'none'\n    },\n    type: \"button\",\n    children: [/*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 8\n      },\n      children: \"Upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"internal-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Upload, {\n          action: \"http://localhost:8000/uploadfile\",\n          listType: \"picture-card\",\n          fileList: fileList,\n          onPreview: handlePreview,\n          onChange: handleChange,\n          children: fileList.length >= 2 ? null : uploadButton\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), previewImage && /*#__PURE__*/_jsxDEV(Image, {\n          wrapperStyle: {\n            display: 'none'\n          },\n          preview: {\n            visible: previewOpen,\n            onVisibleChange: visible => setPreviewOpen(visible),\n            afterOpenChange: visible => !visible && setPreviewImage('')\n          },\n          src: previewImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), response ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-container\",\n        children: /*#__PURE__*/_jsxDEV(Empty, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 63\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 30\n      }, this), response ? /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"response-container\",\n        children: response\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 23\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"IbiAhwrheJ44dIQg5/tByivdydA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","PlusOutlined","Image","Upload","Empty","jsxDEV","_jsxDEV","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","App","_s","previewOpen","setPreviewOpen","previewImage","setPreviewImage","fileList","setFileList","response","setResponse","handlePreview","url","preview","originFileObj","handleChange","newFileList","_file$response","uploadButton","style","border","background","type","children","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","className","action","listType","onPreview","onChange","length","wrapperStyle","display","visible","onVisibleChange","afterOpenChange","src","class","_c","$RefreshReg$"],"sources":["/Users/Ferdinand/FarmGuard/file_upload/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { Image, Upload } from 'antd';\nimport { Empty } from 'antd';\nimport './App.css'\n\nconst getBase64 = (file) =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = (error) => reject(error);\n  });\n\nconst App = () => {\n  const [previewOpen, setPreviewOpen] = useState(false);\n  const [previewImage, setPreviewImage] = useState('');\n  const [fileList, setFileList] = useState([]);\n  const [response, setResponse] = useState(\"\");\n\n  const handlePreview = async (file) => {\n    if (!file.url && !file.preview) {\n      file.preview = await getBase64(file.originFileObj);\n    }\n\n    setPreviewImage(file.url || (file.preview));\n    setPreviewOpen(true);\n  };\n\n  const handleChange = ({ file, fileList: newFileList }) => {\n    setFileList(newFileList);\n    setResponse(file?.response?.response)\n  }\n\n  const uploadButton = (\n    <button style={{ border: 0, background: 'none' }} type=\"button\">\n      <PlusOutlined />\n      <div style={{ marginTop: 8 }}>Upload</div>\n    </button>\n  );\n\n  return (\n    <div className='container'>\n      <div className=\"internal-container\">\n        <div>\n          <Upload\n            action=\"http://localhost:8000/uploadfile\"\n            listType=\"picture-card\"\n            fileList={fileList}\n            onPreview={handlePreview}\n            onChange={handleChange}\n          >\n            {fileList.length >= 2 ? null : uploadButton}\n          </Upload>\n\n          { previewImage && (\n            <Image\n              wrapperStyle={{ display: 'none' }}\n              preview={{\n                visible: previewOpen,\n                onVisibleChange: (visible) => setPreviewOpen(visible),\n                afterOpenChange: (visible) => !visible && setPreviewImage(''),\n              }}\n              src={previewImage}\n            />\n          )}\n        </div>\n          { \n            response? null:  <div className=\"empty-container\"><Empty /></div>\n          }\n          {\n            response? <div class=\"response-container\">{response}</div>: null\n          }\n      </div>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}